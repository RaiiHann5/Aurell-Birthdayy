<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>LOADING ‚Ä¢ COSMIC MINT</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet"/>
<style>
* { margin:0; padding:0; box-sizing:border-box; image-rendering:pixelated; }

/* ‚ïê‚ïê DEFAULT THEME: COSMIC MINT ‚ïê‚ïê */
:root {
  --bg:    #0d0f1e;
  --mint:  #7fffd4;
  --lmint: #b0fff0;
  --lav:   #c8a8f8;
  --llav:  #e8d8ff;
  --dlav:  #8060c0;
  --star:  #ffffc8;
  --wht:   #f0f8ff;
  --dim:   #506068;
  --ldim:  #8898a8;
  --dark:  #080b18;
  --panel: #0e1228;
  --heart: #f0a0c8;
  --f: 'Press Start 2P', monospace;
}

/* ‚ïê‚ïê THEME: PINKY DREAM ‚ïê‚ïê */
:root.theme-pink {
  --bg:    #1e0d18;
  --mint:  #ff8ec8;
  --lmint: #ffb8e0;
  --lav:   #f8a8d8;
  --llav:  #ffe0f0;
  --dlav:  #c06080;
  --star:  #fff0c8;
  --wht:   #fff5fa;
  --dim:   #684858;
  --ldim:  #a88898;
  --dark:  #180810;
  --panel: #28101e;
  --heart: #ff6aaa;
}

/* ‚ïê‚ïê THEME: LAVENDER COSMOS ‚ïê‚ïê */
:root.theme-lavender {
  --bg:    #120d1e;
  --mint:  #c8a8f8;
  --lmint: #e0ccff;
  --lav:   #a080e8;
  --llav:  #d8c8ff;
  --dlav:  #6040b0;
  --star:  #f8e8ff;
  --wht:   #f5f0ff;
  --dim:   #584868;
  --ldim:  #988aa8;
  --dark:  #0c0818;
  --panel: #1a1028;
  --heart: #d898ff;
}

/* ‚ïê‚ïê THEME: SUNSET CORAL ‚ïê‚ïê */
:root.theme-coral {
  --bg:    #1e100d;
  --mint:  #ff9a78;
  --lmint: #ffbfa8;
  --lav:   #f8c8a0;
  --llav:  #ffe8d8;
  --dlav:  #c06040;
  --star:  #fff8c0;
  --wht:   #fff8f5;
  --dim:   #685048;
  --ldim:  #a89088;
  --dark:  #180a08;
  --panel: #281410;
  --heart: #ff7a5a;
}

/* ‚ïê‚ïê THEME: AQUA GALAXY ‚ïê‚ïê */
:root.theme-aqua {
  --bg:    #0d1a1e;
  --mint:  #60e8ff;
  --lmint: #a0f4ff;
  --lav:   #80d8f0;
  --llav:  #c8f4ff;
  --dlav:  #3090b0;
  --star:  #ffffc8;
  --wht:   #f0fbff;
  --dim:   #406068;
  --ldim:  #78a8b8;
  --dark:  #081418;
  --panel: #0e2028;
  --heart: #80d8ff;
}

html, body {
  width:100%; height:100%; overflow:hidden;
  background:#000; color:var(--wht);
  font-family:var(--f);
}

/* CRT scanlines */
body::before {
  content:''; position:fixed; inset:0; z-index:9500;
  pointer-events:none;
  background:repeating-linear-gradient(0deg,transparent 0px,transparent 3px,rgba(0,0,0,0.15) 3px,rgba(0,0,0,0.15) 4px);
}

/* LOADING SCREEN */
#loading {
  position:fixed; inset:0; z-index:99999;
  background:var(--bg);
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  gap:0;
  transition:opacity .6s ease;
}
#loading.fade-out { opacity:0; pointer-events:none; }

/* scanline overlay */
#loading::before {
  content:''; position:absolute; inset:0; pointer-events:none;
  background:repeating-linear-gradient(0deg,transparent 0px,transparent 3px,rgba(0,0,0,0.15) 3px,rgba(0,0,0,0.15) 4px);
}

/* pixel border frame */
#loading::after {
  content:''; position:absolute; inset:6px;
  border:4px solid var(--mint); pointer-events:none;
}

/* floating hearts container */
#ld-hearts {
  position:absolute; inset:0; overflow:hidden; pointer-events:none; z-index:0;
}

#ld-content {
  position:relative; z-index:1;
  display:flex; flex-direction:column; align-items:center; gap:0;
  text-align:center;
}

/* logo */
#ld-logo {
  font-size:clamp(18px,4vw,48px);
  color:var(--lmint); letter-spacing:clamp(4px,1vw,10px);
  display:block; margin-bottom:6px;
  animation:ldLogoShimmer 2s steps(1) infinite;
}
@keyframes ldLogoShimmer {
  0%,60%,100%{ color:var(--lmint); }
  65%         { color:var(--star); }
  70%         { color:var(--llav); }
  75%         { color:var(--lmint); }
}

#ld-sub {
  font-size:clamp(7px,1.2vw,11px); color:var(--lav);
  letter-spacing:clamp(2px,.5vw,6px); display:block;
  margin-bottom:4px;
}

.ld-hearts-row {
  display:block; font-size:10px; color:var(--heart);
  letter-spacing:8px; margin:8px 0 24px;
  animation:heartPulse 1s steps(1) infinite;
}
@keyframes heartPulse { 0%,49%{opacity:1} 50%,100%{opacity:.4} }

/* marching sprites */
#ld-sprites {
  width:clamp(240px,60vw,480px);
  height:28px; overflow:hidden; position:relative; margin-bottom:10px;
}
#ld-sprite-row {
  position:absolute; top:4px; left:-120px;
  display:flex; gap:16px; white-space:nowrap;
  animation:ldMarch 3s linear infinite;
}
@keyframes ldMarch { from{left:-120px} to{left:calc(100% + 20px)} }
.ld-sp { font-size:16px; animation:spBob .5s steps(1) infinite; }
.ld-sp:nth-child(even){ animation-delay:.25s; }
@keyframes spBob { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-3px)} }

/* progress bar */
#ld-bar-wrap {
  width:clamp(240px,60vw,480px);
  border:3px solid var(--mint); padding:3px;
  position:relative; background:var(--dark);
}
/* corner hearts */
#ld-bar-wrap::before { content:'‚ô•'; position:absolute; top:-9px; left:6px; font-family:var(--f); font-size:8px; color:var(--heart); background:var(--bg); padding:0 2px; }
#ld-bar-wrap::after  { content:'‚ô•'; position:absolute; top:-9px; right:6px; font-family:var(--f); font-size:8px; color:var(--heart); background:var(--bg); padding:0 2px; }

#ld-bar {
  height:16px; width:0%;
  background:var(--mint);
  position:relative; overflow:hidden;
  transition:width .18s steps(4);
}
/* shimmer effect */
#ld-bar::after {
  content:''; position:absolute; top:0; bottom:0; left:-60%;
  width:50%; background:rgba(255,255,255,.22);
  animation:barShimmer 1.2s linear infinite;
}
@keyframes barShimmer { from{left:-60%} to{left:110%} }

/* tick marks */
#ld-ticks {
  position:absolute; inset:3px; display:flex;
  justify-content:space-between; pointer-events:none;
}
.ld-tick { width:2px; height:100%; background:rgba(0,0,0,.25); flex-shrink:0; }

/* percent text */
#ld-pct {
  font-size:clamp(8px,1.5vw,14px);
  color:var(--mint); letter-spacing:2px;
  margin-top:10px; display:block;
  min-width:60px;
}

/* status messages */
#ld-status {
  font-size:clamp(5px,.9vw,7px); color:var(--lav);
  letter-spacing:2px; margin-top:8px; display:block;
  height:12px;
  animation:ldStatusBlink .8s steps(1) infinite;
}
@keyframes ldStatusBlink { 0%,79%{opacity:1} 80%,100%{opacity:.3} }

/* copyright */
#ld-copy {
  position:absolute; bottom:20px; left:50%; transform:translateX(-50%);
  font-size:5px; color:var(--dim); letter-spacing:2px; white-space:nowrap;
}

/* drifting hearts */
.hdrift {
  position:fixed; bottom:-30px;
  font-size:var(--fs,12px); color:var(--heart);
  animation:hdriftUp var(--hd,8s) linear forwards;
  opacity:0; z-index:2; pointer-events:none;
}
@keyframes hdriftUp {
  0%  { transform:translateY(0) rotate(-8deg); opacity:0; }
  10% { opacity:.5; }
  90% { opacity:.2; }
  100%{ transform:translateY(-108vh) rotate(8deg); opacity:0; }
}
</style>
</head>
<body>
<div id="loading">
  <!-- floating hearts container -->
  <div id="ld-hearts"></div>

  <div id="ld-content">
    <span id="ld-logo">HAPPY BIRTHDAYY!!</span>
    <span id="ld-sub">‚ô• INI HADIAHH BUAT AUYELL ‚ô•</span>
    <span class="ld-hearts-row">‚ô• &nbsp; ‚ô• &nbsp; ‚ô•</span>

    <!-- marching sprites -->
    <div id="ld-sprites">
      <div id="ld-sprite-row">
        <span class="ld-sp">üëæ</span>
        <span class="ld-sp">üå∏</span>
        <span class="ld-sp">üëæ</span>
        <span class="ld-sp">‚≠ê</span>
        <span class="ld-sp">üëæ</span>
        <span class="ld-sp">üå∏</span>
      </div>
    </div>

    <!-- progress bar -->
    <div id="ld-bar-wrap">
      <div id="ld-ticks"></div>
      <div id="ld-bar"></div>
    </div>

    <span id="ld-pct">0%</span>
    <span id="ld-status">SABARRRR...</span>
  </div>

  <span id="ld-copy">¬© 2026 INTINYA PUNYA PACAR AUREL, IYA PUNYA RAIHAN</span>
</div>

<script>
'use strict';

(function initLoader(){
  // ‚ïê‚ïê LOAD THEME FROM LOCALSTORAGE ‚ïê‚ïê
  const savedTheme = localStorage.getItem('cosmic-mint-theme');
  const savedBgColor = localStorage.getItem('cosmic-mint-bgColor');
  
  // Terapkan theme ke HTML element
  if (savedTheme) {
    document.documentElement.classList.add(savedTheme);
  }
  
  // Update background color jika ada
  if (savedBgColor) {
    document.documentElement.style.setProperty('--bg', savedBgColor);
  }
  
  const ldEl     = document.getElementById('loading');
  const ldBar    = document.getElementById('ld-bar');
  const ldPct    = document.getElementById('ld-pct');
  const ldStatus = document.getElementById('ld-status');
  const ldHearts = document.getElementById('ld-hearts');
  const ldTicks  = document.getElementById('ld-ticks');

  // build tick marks
  for(let i=0;i<9;i++){
    const t=document.createElement('div');
    t.className='ld-tick';
    ldTicks.appendChild(t);
  }

  // drifting hearts during loading
  const LHSYMS=['‚ô•','‚ô•','‚ú¶','‚ô•'];
  function spawnLdHeart(){
    const h=document.createElement('div');
    h.className='hdrift';
    h.textContent=LHSYMS[Math.floor(Math.random()*LHSYMS.length)];
    const dur=6+Math.random()*8;
    h.style.cssText=`left:${4+Math.random()*92}%;--hd:${dur}s;--fs:${8+Math.random()*10}px;z-index:0`;
    ldHearts.appendChild(h);
    setTimeout(()=>h.remove(),(dur+.5)*1000);
  }
  spawnLdHeart();
  const ldHrtTimer=setInterval(spawnLdHeart,1600);

  // loading messages
  const MSGS=[
    [0,  'EHH MASIH 0'],
    [10, 'SABARRR MASI LAMA'],
    [20, 'SABARR SAYANGGG ‚ô•'],
    [35, 'NAHH GITU DONG SABARR YA CANTIKK...'],
    [50, 'ANJIM MAKIN CANTIK...'],
    [65, 'MAKIN CINTA AK SM AUREL...'],
    [78, 'BNTR SAYANG DIKIT LAGIII...'],
    [88, 'YAELAHH...'],
    [95, 'DIKIT BANGETT LAGII NIII ‚ô•'],
    [100,'YEAYYYYYYY!'],
  ];

  let pct = 0;
  let stepIdx = 0;

  const STEPS=[
    {target:10, delay:320},
    {target:20, delay:260},
    {target:35, delay:190},
    {target:50, delay:140},
    {target:65, delay:150},
    {target:78, delay:200},
    {target:88, delay:250},
    {target:95, delay:300},
    {target:100,delay:280},
  ];

  function updateMsg(p){
    for(let i=MSGS.length-1;i>=0;i--){
      if(p>=MSGS[i][0]){ ldStatus.textContent=MSGS[i][1]; break; }
    }
  }

  function tick(){
    if(stepIdx>=STEPS.length){ finish(); return; }
    const {target,delay}=STEPS[stepIdx];
    const increment = Math.max(1, Math.ceil((target-pct)/3));
    pct=Math.min(pct+increment, target);

    ldBar.style.width=pct+'%';
    ldPct.textContent=pct+'%';
    updateMsg(pct);

    if(pct>=target){
      stepIdx++;
      setTimeout(tick, delay);
    } else {
      setTimeout(tick, delay/3);
    }
  }

  function finish(){
    clearInterval(ldHrtTimer);
    // Pastikan mencapai 100% dulu
    ldBar.style.width='100%';
    ldPct.textContent='100%';
    ldStatus.textContent='ENTERING SECURE ZONE...';
    
    // Redirect ke pass.html setelah loading selesai
    setTimeout(()=>{
      ldEl.classList.add('fade-out');
      setTimeout(()=>{
        window.location.href = 'pass.html';
      }, 650);
    }, 500);
  }

  setTimeout(tick, 400);
})();
</script>
</body>
</html>